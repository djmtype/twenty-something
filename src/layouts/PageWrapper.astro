---
import "@/styles/layouts/entry.css"
import { breakLongTitle } from "@/utils/textConverter"
import { type CollectionEntry } from "astro:content"

import BaseLayout from "@/layouts/BaseLayout.astro"

import { Image } from "astro:assets"

type Props = {
  frontmatter: CollectionEntry<"pageCollection">
}

const { frontmatter } = Astro.props

const {
  title,
  thumbnail,
  thumbnailAlt,
  thumbnailSize,
  contentSize,
} = frontmatter.data


---

<BaseLayout
  title={frontmatter.data.title}
  description={frontmatter.data.description}
>
  <article class:list={["entry section container", contentSize?.includes('content') ? 'column-content': '']}>
   
{thumbnail && 
    <figure
      class={`entry__figure ${
        thumbnailSize === "breakout"
          ? "column-breakout"
          : thumbnailSize === "passage"
            ? "column-passage"
            : "column-content"
      }`}
    >
          <Image
            class="entry__thumbnail"
            quality={50}
            alt=""
            densities={[1, 2]}
            src={thumbnail}
            alt={thumbnailAlt ? thumbnailAlt : ""}
          />
    </figure>
  }

    <div class="entry__heading column-passage flow">
      <h1 set:html={breakLongTitle(title)} class="entry__title" style={!thumbnail ? 'font-size: var(--font-size-fluid-3)' : ''}></h1>
    </div>

    <div class="entry__prose flow container column-full">
      <slot />
    </div>
  </article>
</BaseLayout>


