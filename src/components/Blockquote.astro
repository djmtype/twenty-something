---
type Props = {
  citeName: string
  citeTitle?: string
}

const { citeName, citeTitle, ...restProps } = Astro.props
---

<blockquote class="pullquote" {...restProps}>
  <slot />
  <cite
    ><span class="cite-name">{citeName}</span>
    {
      citeTitle && (
        <Fragment
          set:html={`<br /><span class="cite-title">${citeTitle}</span>`}
        />
      )
    }</cite
  >
</blockquote>

<style is:global>
  .pullquote {
    --_text: var(--surface-0);

    color: var(--_text);
    border: 0;
    display: grid;
    gap: var(--size-fluid-5);
    padding-block: unset;
    padding-inline: unset;
    max-inline-size: var(--size-content-4);
    text-align: center;
    margin-inline: auto;
  }

  .pullquote > p {
    font-family: var(--font-serif);
    font-size: var(--font-size-6);
    font-style: italic;
    position: relative;
    line-height: var(--font-lineheight-1);

    &::before {
      content: "\201C";
    }
    &::after {
      content: "\201D";
    }
  }

  .pullquote cite {
    font-style: normal;
  }
  .pullquote .cite-name {
    font-size: var(--font-size-2);
  }

  .pullquote .cite-title {
    font-size: var(--font-size-1);
    opacity: 0.7;
  }
</style>
